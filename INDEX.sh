#!/bin/bash

# 📑 ПОЛНЫЙ УКАЗАТЕЛЬ ФАЙЛОВ И ИНСТРУКЦИЙ

clear

cat << "EOF"

╔════════════════════════════════════════════════════════════════════╗
║                                                                    ║
║    📑  УКАЗАТЕЛЬ ВСЕХ ФАЙЛОВ И ИНСТРУКЦИЙ ДЛЯ ANSIBLE-PULL      ║
║                                                                    ║
╚════════════════════════════════════════════════════════════════════╝

════════════════════════════════════════════════════════════════════════

📋 ЧТО ЗДЕСЬ НАХОДИТСЯ:

════════════════════════════════════════════════════════════════════════

📁 ansible-repo/
   │
   ├── 📄 local.yml
   │   └─ ОСНОВНОЙ ПЛЕЙБУК для ansible-pull
   │      - Запускается локально на целевой машине
   │      - Применяет 3 роли: common, web, monitoring
   │
   ├── 📄 ansible.cfg
   │   └─ КОНФИГУРАЦИЯ ANSIBLE
   │      - Параметры выполнения плейбука
   │      - Настройки инвентаря
   │
   ├── 📄 inventory
   │   └─ ФАЙЛ ИНВЕНТАРЯ
   │      - localhost с локальным соединением
   │
   └── 📁 roles/
       │
       ├── 📁 common/tasks/main.yml
       │   └─ Установка пакетов
       │      - Обновление кэша пакетов
       │      - Установка утилит (curl, wget, git, etc.)
       │      - Создание директорий приложения
       │
       ├── 📁 web/tasks/main.yml
       │   └─ Настройка веб-сервера
       │      - Установка Nginx
       │      - Запуск сервиса
       │      - Развертывание HTML страницы
       │
       └── 📁 monitoring/tasks/main.yml
           └─ Мониторинг и логирование
              - Установка инструментов мониторинга
              - Создание скриптов проверки
              - Логирование результатов

════════════════════════════════════════════════════════════════════════

📚 ДОКУМЕНТАЦИЯ И ОТЧЕТЫ:

════════════════════════════════════════════════════════════════════════

✅ REPORT.md (ГЛАВНЫЙ ОТЧЕТ)
   └─ Полное описание для сдачи работы
   │  • Содержимое всех YAML-файлов
   │  • Архитектура решения
   │  • Примеры команд с выводом
   │  • Скриншоты и результаты

✅ README.md (ПОДРОБНАЯ ДОКУМЕНТАЦИЯ)
   └─ Техническое описание и инструкции
   │  • Установка и настройка
   │  • Описание каждой роли
   │  • Команды для выполнения
   │  • Устранение неполадок

✅ QUICK-START.md (БЫСТРЫЙ СТАРТ)
   └─ Краткое руководство для быстрого старта
   │  • Ключевые команды с кратким описанием
   │  • Таблица всех параметров
   │  • Примеры использования
   │  • Устранение ошибок

✅ COMMANDS.md (ВСЕ КОМАНДЫ)
   └─ Сборка всех команд для копирования
   │  • Команды администратора
   │  • Команды на целевой VM
   │  • Команды для проверки
   │  • Команды для очистки

════════════════════════════════════════════════════════════════════════

🎬 ДЕМОНСТРАЦИОННЫЕ СКРИПТЫ:

════════════════════════════════════════════════════════════════════════

1️⃣  demo-pretty.sh (КРАСИВАЯ ДЕМОНСТРАЦИЯ) ⭐ РЕКОМЕНДУЕТСЯ
    └─ Интерактивные слайды для скриншотов
    │  • 12 слайдов с полной информацией
    │  • Красивое оформление с цветами
    │  • Можно выбирать слайды или просматривать все
    │
    Запуск:
    $ bash demo-pretty.sh         # Интерактивный режим
    $ bash demo-pretty.sh auto    # Все слайды подряд

2️⃣  demo.sh (ПОЛНАЯ ДЕМОНСТРАЦИЯ)
    └─ Полная интерактивная демонстрация
    │  • Подробное объяснение
    │  • Пошаговое выполнение
    │
    Запуск:
    $ bash demo.sh

3️⃣  demo-simple.sh (КРАТКАЯ ДЕМОНСТРАЦИЯ)
    └─ Быстрая демонстрация основных компонентов
    │
    Запуск:
    $ bash demo-simple.sh

4️⃣  SHOWCASE.sh (ГЛАВНАЯ ДЕМОНСТРАЦИЯ)
    └─ Информационный экран со всеми инструкциями
    │
    Запуск:
    $ bash SHOWCASE.sh

════════════════════════════════════════════════════════════════════════

🚀 БЫСТРЫЙ СТАРТ (ТРИ ШАГА):

════════════════════════════════════════════════════════════════════════

ШАГ 1️⃣  - Запустите красивую демонстрацию
   $ bash demo-pretty.sh

ШАГ 2️⃣  - Прочитайте отчет
   $ cat REPORT.md

ШАГ 3️⃣  - Скопируйте команды из COMMANDS.md
   $ cat COMMANDS.md

════════════════════════════════════════════════════════════════════════

📖 РЕКОМЕНДУЕМЫЙ ПОРЯДОК ОЗНАКОМЛЕНИЯ:

════════════════════════════════════════════════════════════════════════

1. Запустите SHOWCASE.sh - получите полный обзор
   $ bash SHOWCASE.sh

2. Посмотрите структуру проекта
   $ tree ansible-repo/ # или ls -la ansible-repo/

3. Запустите демонстрацию для скриншотов
   $ bash demo-pretty.sh

4. Прочитайте REPORT.md - полный отчет
   $ cat REPORT.md

5. Посмотрите все команды в COMMANDS.md
   $ cat COMMANDS.md

6. Для быстрого старта - QUICK-START.md
   $ cat QUICK-START.md

════════════════════════════════════════════════════════════════════════

💾 ФАЙЛОВАЯ СТРУКТУРА:

════════════════════════════════════════════════════════════════════════

hw5/
├── ansible-repo/                    ← КОНФИГУРАЦИЯ ANSIBLE-PULL
│   ├── local.yml                    ← Основной плейбук
│   ├── ansible.cfg                  ← Конфигурация
│   ├── inventory                    ← Файл инвентаря
│   └── roles/
│       ├── common/tasks/main.yml
│       ├── web/tasks/main.yml
│       └── monitoring/tasks/main.yml
│
├── 📄 REPORT.md                     ← ГЛАВНЫЙ ОТЧЕТ ⭐
├── 📄 README.md                     ← Подробная документация
├── 📄 QUICK-START.md                ← Быстрый старт
├── 📄 COMMANDS.md                   ← Все команды
│
├── 🎬 demo-pretty.sh                ← Красивая демонстрация ⭐
├── 🎬 demo.sh                       ← Полная демонстрация
├── 🎬 demo-simple.sh                ← Краткая демонстрация
├── 🎬 SHOWCASE.sh                   ← Информационный экран
│
└── START.sh                         ← Главный старт скрипт

════════════════════════════════════════════════════════════════════════

📌 ГЛАВНЫЕ ФАЙЛЫ ДЛЯ СДАЧИ:

════════════════════════════════════════════════════════════════════════

1. REPORT.md
   └─ Полный отчет с содержимым всех файлов

2. ansible-repo/
   └─ Директория с готовой конфигурацией

3. demo-pretty.sh
   └─ Скрипт для создания красивых скриншотов

════════════════════════════════════════════════════════════════════════

🎯 КОМАНДЫ ДЛЯ ОСНОВНЫХ ЗАДАЧ:

════════════════════════════════════════════════════════════════════════

Проверить синтаксис:
$ ansible-playbook --syntax-check -i ansible-repo/inventory ansible-repo/local.yml

Локальное тестирование:
$ ansible-playbook -i ansible-repo/inventory -c local ansible-repo/local.yml -v

На целевой ВМ - развертывание:
$ sudo ansible-pull -U https://github.com/repo/ansible-repo.git \
    -d /var/lib/ansible/pull local.yml -v

Автоматизация через cron:
$ sudo crontab -e
# Добавить: */30 * * * * ansible-pull -U ... >> /var/log/ansible-pull.log 2>&1

════════════════════════════════════════════════════════════════════════

✅ ГОТОВО К СДАЧЕ!

════════════════════════════════════════════════════════════════════════

Все файлы готовы к использованию и сдаче.
Используйте demo-pretty.sh для создания скриншотов.
REPORT.md содержит всю необходимую информацию.

════════════════════════════════════════════════════════════════════════

EOF
